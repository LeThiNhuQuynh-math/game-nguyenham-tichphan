<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√în t·∫≠p Nguy√™n h√†m - T√≠ch ph√¢n</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root { --primary: #2563eb; --success: #22c55e; --error: #ef4444; --bg: #f8fafc; }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg); margin: 0; display: flex; justify-content: center; padding: 20px; }
        .card { background: white; width: 100%; max-width: 600px; border-radius: 16px; shadow: 0 10px 25px rgba(0,0,0,0.05); padding: 30px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .header { text-align: center; border-bottom: 2px solid #f1f5f9; margin-bottom: 20px; padding-bottom: 10px; }
        .progress-bar { height: 8px; background: #e2e8f0; border-radius: 4px; margin-bottom: 20px; overflow: hidden; }
        #progress { height: 100%; background: var(--primary); width: 0%; transition: 0.3s; }
        .question { font-size: 1.25rem; font-weight: 600; color: #1e293b; margin-bottom: 20px; line-height: 1.6; }
        .options { display: grid; gap: 12px; }
        .btn { padding: 15px; border: 2px solid #e2e8f0; border-radius: 12px; background: white; cursor: pointer; text-align: left; font-size: 1rem; transition: all 0.2s; display: flex; align-items: center; }
        .btn:hover { border-color: var(--primary); background: #eff6ff; }
        .btn.correct { background: var(--success); color: white; border-color: var(--success); }
        .btn.wrong { background: var(--error); color: white; border-color: var(--error); }
        #feedback { margin-top: 15px; font-weight: bold; text-align: center; min-height: 24px; }
    </style>
</head>
<body>

<div class="card">
    <div class="header">
        <h2 style="margin:0; color: var(--primary);">To√°n 12: Nguy√™n h√†m - T√≠ch ph√¢n</h2>
        <p id="stats" style="color: #64748b; font-size: 0.9rem; margin: 5px 0;">C√¢u h·ªèi 1/2</p>
    </div>
    
    <div class="progress-bar"><div id="progress"></div></div>

    <div id="quiz-box">
        <div class="question" id="q-text">ƒêang t·∫£i c√¢u h·ªèi...</div>
        <div class="options" id="q-options"></div>
        <div id="feedback"></div>
        <button id="next-btn" style="display:none; margin-top:20px; width:100%; padding:12px; background:var(--primary); color:white; border:none; border-radius:8px; cursor:pointer;">C√¢u ti·∫øp theo</button>
    </div>
</div>

<script>
    const questions = [
        {
            q: "T√≠nh nguy√™n h√†m \( \int e^x dx \)?",
            options: ["\( e^x + C \)", "\( -e^x + C \)", "\( \frac{e^{x+1}}{x+1} + C \)", "\( xe^x + C \)"],
            answer: 0
        },
        {
            q: "T√≠nh t√≠ch ph√¢n \( I = \int_1^2 \frac{1}{x} dx \)?",
            options: ["\( \ln 2 \)", "\( e^2 \)", "\( 1 \)", "\( \ln 1 \)"],
            answer: 0
        },
        {
            q: "H√†m s·ªë n√†o sau ƒë√¢y l√† m·ªôt nguy√™n h√†m c·ªßa \( f(x) = \sin x \)?",
            options: ["\( \cos x \)", " \( -\cos x \)", "\( \frac{1}{\cos x} \)", "\( \sin^2 x \)"],
            answer: 1
        }
    ];

    let current = 0;
    let score = 0;
    let canClick = true;

    function loadQuestion() {
        canClick = true;
        const q = questions[current];
        document.getElementById("q-text").innerHTML = q.q;
        document.getElementById("stats").innerText = `C√¢u h·ªèi ${current + 1}/${questions.length}`;
        document.getElementById("progress").style.width = `${((current + 1) / questions.length) * 100}%`;
        document.getElementById("feedback").innerText = "";
        document.getElementById("next-btn").style.display = "none";
        
        const optionsContainer = document.getElementById("q-options");
        optionsContainer.innerHTML = "";
        
        q.options.forEach((opt, i) => {
            const btn = document.createElement("button");
            btn.className = "btn";
            btn.innerHTML = `<span style="margin-right:10px; font-weight:bold;">${String.fromCharCode(65 + i)}.</span> ${opt}`;
            btn.onclick = () => checkAnswer(i, btn);
            optionsContainer.appendChild(btn);
        });

        if (window.MathJax) MathJax.typesetPromise();
    }

    function checkAnswer(idx, btn) {
        if (!canClick) return;
        canClick = false;
        const correctIdx = questions[current].answer;
        const allBtns = document.querySelectorAll(".btn");

        if (idx === correctIdx) {
            btn.classList.add("correct");
            document.getElementById("feedback").innerHTML = "<span style='color:var(--success)'>Ch√≠nh x√°c! üéâ</span>";
            score++;
        } else {
            btn.classList.add("wrong");
            allBtns[correctIdx].classList.add("correct");
            document.getElementById("feedback").innerHTML = "<span style='color:var(--error)'>R·∫•t ti·∫øc, ch∆∞a ƒë√∫ng!</span>";
        }
        document.getElementById("next-btn").style.display = "block";
    }

    document.getElementById("next-btn").onclick = () => {
        current++;
        if (current < questions.length) {
            loadQuestion();
        } else {
            showResult();
        }
    };

    function showResult() {
        const box = document.getElementById("quiz-box");
        box.innerHTML = `
            <div style="text-align:center; padding: 20px;">
                <h3 style="font-size:1.5rem;">Ho√†n th√†nh!</h3>
                <p style="font-size:1.2rem;">B·∫°n ƒë·∫°t ƒë∆∞·ª£c <strong>${score}/${questions.length}</strong> ƒëi·ªÉm.</p>
                <button onclick="location.reload()" style="padding:10px 20px; background:var(--primary); color:white; border:none; border-radius:8px; cursor:pointer;">L√†m l·∫°i b√†i t·∫≠p</button>
            </div>
        `;
    }

    window.onload = loadQuestion;
</script>
</body>
</html>

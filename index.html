<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game To√°n 12 - Nguy√™n h√†m T√≠ch ph√¢n</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root { --primary: #1e88e5; --success: #4caf50; --error: #f44336; --bg: #f5f7fa; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background-color: var(--bg); margin: 0; padding: 20px; display: flex; justify-content: center; }
        .container { background: white; width: 100%; max-width: 650px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); padding: 30px; }
        .header h1 { color: var(--primary); text-align: center; font-size: 22px; margin-bottom: 10px; }
        .progress-container { background: #eee; height: 8px; border-radius: 4px; margin-bottom: 25px; }
        .progress-bar { height: 100%; background: var(--primary); width: 0%; border-radius: 4px; transition: 0.4s; }
        .question-box { font-size: 1.2rem; color: #333; margin-bottom: 25px; text-align: center; min-height: 80px; }
        .options-grid { display: grid; gap: 12px; }
        .option-btn { background: white; border: 2px solid #e0e0e0; padding: 14px; border-radius: 12px; font-size: 1.1rem; cursor: pointer; text-align: left; transition: 0.2s; }
        .option-btn:hover { border-color: var(--primary); background: #f0f7ff; }
        .option-btn.correct { background: var(--success) !important; color: white; border-color: var(--success); }
        .option-btn.wrong { background: var(--error) !important; color: white; border-color: var(--error); }
        #feedback { text-align: center; font-weight: bold; margin-top: 20px; min-height: 25px; }
        .next-btn { display: none; margin: 25px auto 0; padding: 12px 35px; background: var(--primary); color: white; border: none; border-radius: 25px; cursor: pointer; font-size: 1rem; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>To√°n 12: Nguy√™n h√†m - T√≠ch ph√¢n</h1>
        <div id="stats" style="text-align:center; color:#777; font-size:14px; margin-bottom:5px;">C√¢u h·ªèi 1/3</div>
    </div>
    <div class="progress-container"><div id="progress-bar" class="progress-bar"></div></div>
    <div id="quiz-area">
        <div class="question-box" id="question">ƒêang t·∫£i c√¢u h·ªèi...</div>
        <div class="options-grid" id="options"></div>
        <div id="feedback"></div>
        <button id="next-btn" class="next-btn">C√¢u ti·∫øp theo</button>
    </div>
</div>

<script>
    // L∆∞u √Ω: D√πng d·∫•u \ ƒë·ªÉ b·∫Øt ƒë·∫ßu c√°c l·ªánh nh∆∞ \int, \frac, \sin
    const quizData = [
        const quizData = [
        {
            q: "H·ªç t·∫•t c·∫£ c√°c nguy√™n h√†m c·ªßa h√†m s·ªë \( f(x) = 3x^2 + \sin x \) l√†:",
            options: ["\( x^3 - \cos x + C \)", "\( x^3 + \cos x + C \)", "\( 6x + \cos x + C \)", "\( 6x - \cos x + C \)" ],
            answer: 0
        },
        {
            q: "T√≠nh t√≠ch ph√¢n \( I = \int_1^2 \frac{1}{x} dx \):",
            options: ["\( I = \ln 2 \)", "\( I = \log 2 \)", "\( I = 2 \)", "\( I = e^2 \)" ],
            answer: 0
        },
        {
            q: "Cho \( \int_0^1 f(x)dx = 2 \) v√† \( \int_0^1 g(x)dx = 5 \). T√≠nh \( \int_0^1 [f(x) - 2g(x)]dx \)?",
            options: ["\( -3 \)", "\( 12 \)", "\( -8 \)", "\( 1 \)" ],
            answer: 2
        },
        {
            q: "Nguy√™n h√†m c·ªßa h√†m s·ªë \( f(x) = e^{2x} \) l√†:",
            options: ["\( 2e^{2x} + C \)", "\( \frac{1}{2}e^{2x} + C \)", "\( e^{2x} + C \)", "\( e^{2x} \ln 2 + C \)" ],
            answer: 1
        },
        {
            q: "T√≠nh t√≠ch ph√¢n \( I = \int_0^{\pi/2} \sin x dx \):",
            options: ["\( I = 0 \)", "\( I = -1 \)", "\( I = 1 \)", "\( I = \pi \)" ],
            answer: 2
        },
        {
            q: "H·ªç nguy√™n h√†m c·ªßa h√†m s·ªë \( f(x) = \frac{1}{x+1} \) tr√™n kho·∫£ng \( (-1; +\infty) \) l√†:",
            options: ["\( \ln(x+1) + C \)", "\( \frac{1}{(x+1)^2} + C \)", "\( \ln |x+1| + C \)", "\( e^{x+1} + C \)" ],
            answer: 0
        },
        {
            q: "T√≠nh di·ªán t√≠ch \( S \) c·ªßa h√¨nh ph·∫≥ng gi·ªõi h·∫°n b·ªüi ƒë·ªì th·ªã h√†m s·ªë \( y = x^2 \), tr·ª•c ho√†nh v√† hai ƒë∆∞·ªùng th·∫≥ng \( x = 0, x = 3 \):",
            options: ["\( S = 9 \)", "\( S = 27 \)", "\( S = 3 \)", "\( S = 6 \)" ],
            answer: 0
        },
        {
            q: "Bi·∫øt \( F(x) \) l√† m·ªôt nguy√™n h√†m c·ªßa \( f(x) = 2x \) v√† \( F(1) = 3 \). T√¨m \( F(x) \):",
            options: ["\( x^2 + 3 \)", "\( x^2 + 2 \)", "\( x^2 + 1 \)", "\( 2x^2 + 1 \)" ],
            answer: 1
        },
        {
            q: "T√≠nh t√≠ch ph√¢n \( I = \int_1^e x \ln x dx \) b·∫±ng ph∆∞∆°ng ph√°p t·ª´ng ph·∫ßn, ƒë·∫∑t \( u = \ln x, dv = xdx \). Khi ƒë√≥ \( du \) l√†:",
            options: ["\( \frac{1}{x} dx \)", "\( x dx \)", "\( \ln x dx \)", "\( \frac{x^2}{2} dx \)" ],
            answer: 0
        },
        {
            q: "Gi√° tr·ªã c·ªßa t√≠ch ph√¢n \( \int_0^1 e^x dx \) l√†:",
            options: ["\( e - 1 \)", "\( e \)", "\( 1 \)", "\( e + 1 \)" ],
            answer: 0
        }
    ];
    ];

    let current = 0;
    let score = 0;
    let answered = false;

    function initQuiz() {
        answered = false;
        const data = quizData[current];
        document.getElementById("stats").innerText = `C√¢u h·ªèi ${current + 1}/${quizData.length}`;
        document.getElementById("progress-bar").style.width = `${((current + 1)/quizData.length)*100}%`;
        document.getElementById("question").innerHTML = data.q;
        document.getElementById("feedback").innerText = "";
        document.getElementById("next-btn").style.display = "none";

        const container = document.getElementById("options");
        container.innerHTML = "";
        data.options.forEach((opt, i) => {
            const btn = document.createElement("button");
            btn.className = "option-btn";
            btn.innerHTML = `<b>${String.fromCharCode(65+i)}.</b> ${opt}`;
            btn.onclick = () => {
                if(answered) return;
                answered = true;
                if(i === data.answer) {
                    btn.classList.add("correct");
                    document.getElementById("feedback").innerHTML = "<span style='color:var(--success)'>Ch√≠nh x√°c! üéâ</span>";
                    score++;
                } else {
                    btn.classList.add("wrong");
                    container.children[data.answer].classList.add("correct");
                    document.getElementById("feedback").innerHTML = "<span style='color:var(--error)'>Ch∆∞a ƒë√∫ng r·ªìi!</span>";
                }
                document.getElementById("next-btn").style.display = "block";
            };
            container.appendChild(btn);
        });

        if (window.MathJax) {
            MathJax.typesetPromise();
        }
    }

    document.getElementById("next-btn").onclick = () => {
        current++;
        if(current < quizData.length) initQuiz();
        else {
            document.getElementById("quiz-area").innerHTML = `<div style="text-align:center; padding:30px;"><h2>Ho√†n th√†nh!</h2><p style="font-size:1.5rem">ƒêi·ªÉm c·ªßa b·∫°n: ${score}/${quizData.length}</p><button onclick="location.reload()" class="next-btn" style="display:block">L√†m l·∫°i</button></div>`;
        }
    };

    window.onload = initQuiz;
</script>
</body>
</html>

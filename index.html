<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Game Ã”n NguyÃªn hÃ m â€“ TÃ­ch phÃ¢n</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>ğŸ® Ã”N Táº¬P NGUYÃŠN HÃ€M â€“ TÃCH PHÃ‚N</h1>

<div id="game"></div>

<p id="score"></p>

<script src="script.js"></script>
</body>
</html>
body {
  font-family: Arial, sans-serif;
  background: #eef2ff;
  text-align: center;
  padding: 20px;
}

h1 {
  color: #1e3a8a;
}

button {
  margin: 6px;
  padding: 8px 14px;
  font-size: 15px;
  cursor: pointer;
}

input {
  padding: 6px;
  font-size: 15px;
}
let round = 1;
let index = 0;
let score = 0;

/* ========== VÃ’NG 1: TRáº®C NGHIá»†M ========== */
const round1 = [
 {q:"NguyÃªn hÃ m cá»§a x^3 lÃ :", options:["x^4+C","x^4/4+C","3x^2+C","x^3/3+C"], a:1},
 {q:"âˆ« 2x dx =", options:["x^2+C","2x^2+C","x+C","2x+C"], a:0},
 {q:"NguyÃªn hÃ m cá»§a cos x lÃ :", options:["-sin x+C","cos x+C","sin x+C","-cos x+C"], a:2},
 {q:"âˆ« 1/x dx (x>0) =", options:["ln x+C","ln|x|+C","1/x^2+C","x+C"], a:0},
 {q:"NguyÃªn hÃ m cá»§a e^x lÃ :", options:["xe^x+C","e^x+C","ln x+C","x+C"], a:1},
 {q:"âˆ«(3x^2âˆ’4)dx =", options:["x^3âˆ’4x+C","3x^3âˆ’4+C","x^3âˆ’4+C","6xâˆ’4+C"], a:0},
 {q:"Náº¿u F'(x)=f(x) thÃ¬ F(x) lÃ :", options:["Äáº¡o hÃ m","TÃ­ch phÃ¢n","NguyÃªn hÃ m","Äá»“ thá»‹"], a:2},
 {q:"âˆ«xâ»Â² dx =", options:["âˆ’xâ»Â¹+C","xâ»Â¹+C","âˆ’2xâ»Â¹+C","ln x+C"], a:0},
 {q:"NguyÃªn hÃ m cá»§a 2x+1 lÃ :", options:["x^2+x+C","2x^2+x+C","x^2+1+C","2x+1+C"], a:0},
 {q:"âˆ« sin x dx =", options:["cos x+C","âˆ’sin x+C","âˆ’cos x+C","sin x+C"], a:2},
 {q:"Táº­p há»£p cÃ¡c nguyÃªn hÃ m gá»i lÃ :", options:["TÃ­ch phÃ¢n","Há» nguyÃªn hÃ m","HÃ m liÃªn tá»¥c","HÃ m sÆ¡ cáº¥p"], a:1},
 {q:"âˆ«0 dx =", options:["0","1","x","C"], a:3}
];

function showRound1() {
  let q = round1[index];
  let html = `<h2>VÃ²ng 1 â€“ Tráº¯c nghiá»‡m</h2><p>CÃ¢u ${index+1}. ${q.q}</p>`;
  q.options.forEach((o,i)=>{
    html += `<button onclick="check1(${i})">${o}</button><br>`;
  });
  document.getElementById("game").innerHTML = html;
}

function check1(c){
  if(c===round1[index].a) score++;
  index++;
  index<round1.length ? showRound1() : nextRound();
}

/* ========== VÃ’NG 2: ÄÃšNG / SAI ========== */
const round2 = [
 {
  q:"Cho f(x)=xÂ²",
  i:[
   {t:"Má»™t nguyÃªn hÃ m lÃ  xÂ³/3 + C",c:true},
   {t:"âˆ«f(x)dx = xÂ³ + C",c:false},
   {t:"f(x) cÃ³ vÃ´ sá»‘ nguyÃªn hÃ m",c:false},
   {t:"f(x) liÃªn tá»¥c trÃªn R",c:true}
  ]
 },
 {
  q:"XÃ©t cÃ¡c má»‡nh Ä‘á» sau",
  i:[
   {t:"F'(x)=f(x) â‡’ F(x) lÃ  nguyÃªn hÃ m",c:true},
   {t:"Hai nguyÃªn hÃ m hÆ¡n kÃ©m nhau háº±ng sá»‘",c:true},
   {t:"âˆ«cos x dx = âˆ’sin x + C",c:false},
   {t:"âˆ«e^x dx = e^x + C",c:true}
  ]
 },
 {
  q:"Cho f(x)=1/x (x>0)",
  i:[
   {t:"Má»™t nguyÃªn hÃ m lÃ  ln x + C",c:true},
   {t:"f(x) khÃ´ng cÃ³ nguyÃªn hÃ m",c:false},
   {t:"âˆ«f(x)dx = ln|x| + C",c:false},
   {t:"f(x) liÃªn tá»¥c trÃªn (0;+âˆ)",c:true}
  ]
 },
 {
  q:"XÃ©t cÃ¡c tÃ­ch phÃ¢n",
  i:[
   {t:"âˆ«(x+1)dx = xÂ²/2 + x + C",c:true},
   {t:"âˆ«2x dx = xÂ² + C",c:true},
   {t:"âˆ«sin x dx = cos x + C",c:false},
   {t:"âˆ«5 dx = 5x + C",c:true}
  ]
 }
];

function showRound2(){
 let q=round2[index];
 let html=`<h2>VÃ²ng 2 â€“ ÄÃºng / Sai</h2><p>${q.q}</p>`;
 q.i.forEach((x,i)=>{
  html+=`<label><input type="checkbox" id="r2${i}"> ${"abcd"[i]}. ${x.t}</label><br>`;
 });
 html+=`<button onclick="check2()">Ná»™p</button>`;
 document.getElementById("game").innerHTML=html;
}

function check2(){
 let q=round2[index];
 q.i.forEach((x,i)=>{
  if(document.getElementById(`r2${i}`).checked===x.c) score++;
 });
 index++;
 index<round2.length ? showRound2() : nextRound();
}

/* ========== VÃ’NG 3: TRáº¢ Lá»œI NGáº®N ========== */
const round3 = [
 {q:"âˆ«4x dx =",a:"2x^2+C"},
 {q:"NguyÃªn hÃ m cá»§a 3xÂ² lÃ :",a:"x^3+C"},
 {q:"âˆ«e^x dx =",a:"e^x+C"},
 {q:"âˆ«cos x dx =",a:"sin x+C"},
 {q:"âˆ«1/x dx (x>0) =",a:"lnx+C"},
 {q:"F'(x)=2xâˆ’1. TÃ¬m F(x)",a:"x^2-x+C"}
];

function showRound3(){
 let q=round3[index];
 document.getElementById("game").innerHTML=
 `<h2>VÃ²ng 3 â€“ Tráº£ lá»i ngáº¯n</h2>
 <p>${q.q}</p>
 <input id="short">
 <button onclick="check3()">Tráº£ lá»i</button>`;
}

function check3(){
 let u=document.getElementById("short").value.replace(/\s/g,"");
 let c=round3[index].a.replace(/\s/g,"");
 if(u===c) score++;
 index++;
 index<round3.length ? showRound3() : endGame();
}

/* ========== ÄIá»€U KHIá»‚N ========== */
function nextRound(){
 index=0;
 round++;
 if(round===2) showRound2();
 else if(round===3) showRound3();
}

function endGame(){
 document.getElementById("game").innerHTML=
 `<h2>ğŸ‰ HoÃ n thÃ nh!</h2><p>Äiá»ƒm cá»§a báº¡n: ${score}</p>`;
}

showRound1();
